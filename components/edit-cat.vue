<template>
  <div class="container">
    <div class="row justify-content-center">
      <div class="center col-md-6">
        <h2>{{ title }}</h2>
        <form class="row justify-content-center">
          <div class="col-md-8">
            <label for="name">–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è...</label>
            <input type="text" name="name" placeholder="–ë–∞—Ä—Å–∏–∫" v-model="name">
          </div>
          <div class="col-md-8">
            <label for="age">–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç...</label>
            <input type="text" name="age" placeholder="2" v-model="age">
          </div>
          <div class="col-md-8">
            <label for="rate">–ö–∞–∫–æ–µ –º–µ—Å—Ç–æ –æ–Ω –∑–∞–Ω–∏–º–∞–µ—Ç?</label>
            <input type="text" name="rate" placeholder="5" v-model="rate">
          </div>
          <div class="col-md-8">
            <label for="rate">–ù—Ä–∞–≤–∏—Ç—Å—è –ª–∏ –≤–∞–º —ç—Ç–æ—Ç –∫–æ—Ç?</label>
            <input type="checkbox" name="favorite" style="width: auto;" v-model="favorite">
          </div>
          <div class="col-md-8">
            <label for="rate">–û–ø–∏—à–∏—Ç–µ –∫–æ—Ç–∞...</label>
            <textarea name="name" rows="8" v-model="description" placeholder="–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π, –∞–∫—Ç–∏–≤–Ω—ã–π –∏ –ª–∞—Å–∫–æ–≤—ã–π. –õ—é–±–∏—Ç –∏–≥—Ä–∞—Ç—å, –∫–∞—Ç–∞—Ç—å –º—è—á, –∏ –º—É—Ä—á–∞—Ç—å –Ω–∞ –ø–ª–µ–¥–µ —Ä—è–¥–æ–º —Å –ª—é–¥—å–º–∏! –ü—Ä–∏–ª–∏—á–Ω–æ –≤–æ—Å–ø–∏—Ç–∞–Ω, –ø—Ä–∏—É—á–µ–Ω –∫ –ª–æ—Ç–∫—É. –í–∞–∫—Ü–∏–Ω–∏—Ä–æ–≤–∞–Ω, –∏–º–µ–µ—Ç –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã–π –ø–∞—Å–ø–æ—Ä—Ç."></textarea>
          </div>
          <button class="cat-button" type="button" name="button" @click="editCat">–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ—Ç–∏–∫–∞</button>
        </form>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  props: ['cat'],
  name: 'EditCatWindow',
  data () {
    return this.initialData()
  },
  methods: {
    initialData () {
      return {
        title: '–ó–Ω–∞–∫–æ–º—å—Ç–µ—Å—å, —ç—Ç–æ ' + this.cat.name + ' üêà',
        name: this.cat.name,
        age: this.cat.age,
        rate: this.cat.rate,
        favorite: this.cat.favorite,
        description: this.cat.description
      }
    },
    editCat () {
      const cat = [this.cat.id, this.name, this.cat.image, +this.age, +this.rate, this.favorite, this.description]
      if (isNaN(parseFloat(this.age)) || isNaN(parseFloat(this.rate)) || typeof (this.favorite) !== 'boolean') {
        this.title = '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ!'
        return
      }
      this.$emit('editCat', cat)
      // Object.assign(this.$data, this.initialData())
    }
  }
}
</script>

<style scoped>
h2 {
  text-align: center;
  font-family: 'Montserrat';
  font-size: 32px;
  font-weight: 600;
  margin-bottom: 40px;
  opacity: .9;
}

form label {
  width: 100%;
  color: #22223b;
  font-family: 'Montserrat';
  font-size: 16px;
  font-weight: 600;
  opacity: .8;
  margin-bottom: 2px;
}

form input, form textarea {
  width: 100%;
  outline: none;
  color: #92929e;
  border: 1px solid #888;
  padding: 6px 12px;
  font-family: 'Montserrat';
  font-size: 16px;
  font-weight: 600;
  opacity: .9;
  margin-bottom: 24px;
}

.cat-button {
  background-color: #84a98c;
}

.cat-button:hover {
  background-color: #98BA9F;
}
</style>
